c   1  2| 3  4
c   5  6| 7  8
c  -----+-----
c   9 10|11 12
c  13 14|15 16
c
c 24*12+16+10+1 = 315
c
p cnf 164 315
c
c each cell contains 1, 2, 3, or 4
c
11 12 13 14 0
21 22 23 24 0
31 32 33 34 0
41 42 43 44 0
51 52 53 54 0
61 62 63 64 0
71 72 73 74 0
81 82 83 84 0
91 92 93 94 0
101 102 103 104 0
111 112 113 114 0
121 122 123 124 0
131 132 133 134 0
141 142 143 144 0
151 152 153 154 0
161 162 163 164 0
c
c the 1st column contains no duplicate numbers
c
-11 -21 0
-11 -31 0
-11 -41 0
-21 -31 0
-21 -41 0
-31 -41 0
-12 -22 0
-12 -32 0
-12 -42 0
-22 -32 0
-22 -42 0
-32 -42 0
-13 -23 0
-13 -33 0
-13 -43 0
-23 -33 0
-23 -43 0
-33 -43 0
-14 -24 0
-14 -34 0
-14 -44 0
-24 -34 0
-24 -44 0
-34 -44 0
c
c the 2nd column contains no duplicate numbers
c
-51 -61 0
-51 -71 0
-51 -81 0
-61 -71 0
-61 -81 0
-71 -81 0
-52 -62 0
-52 -72 0
-52 -82 0
-62 -72 0
-62 -82 0
-72 -82 0
-53 -63 0
-53 -73 0
-53 -83 0
-63 -73 0
-63 -83 0
-73 -83 0
-54 -64 0
-54 -74 0
-54 -84 0
-64 -74 0
-64 -84 0
-74 -84 0
c
c the 3rd column contains no duplicate numbers
c
-91 -101 0
-91 -111 0
-91 -121 0
-101 -111 0
-101 -121 0
-111 -121 0
-92 -102 0
-92 -112 0
-92 -122 0
-102 -112 0
-102 -122 0
-112 -122 0
-93 -103 0
-93 -113 0
-93 -123 0
-103 -113 0
-103 -123 0
-113 -123 0
-94 -104 0
-94 -114 0
-94 -124 0
-104 -114 0
-104 -124 0
-114 -124 0
c
c the 4th column contains no duplicate numbers
c
-131 -141 0
-131 -151 0
-131 -161 0
-141 -151 0
-141 -161 0
-151 -161 0
-132 -142 0
-132 -152 0
-132 -162 0
-142 -152 0
-142 -162 0
-152 -162 0
-133 -143 0
-133 -153 0
-133 -163 0
-143 -153 0
-143 -163 0
-153 -163 0
-134 -144 0
-134 -154 0
-134 -164 0
-144 -154 0
-144 -164 0
-154 -164 0
c
c the 1st row contains no duplicate numbers
c
-11 -51 0
-11 -91 0
-11 -131 0
-51 -91 0
-51 -131 0
-91 -131 0
-12 -52 0
-12 -92 0
-12 -132 0
-52 -92 0
-52 -132 0
-92 -132 0
-13 -53 0
-13 -93 0
-13 -133 0
-53 -93 0
-53 -133 0
-93 -133 0
-14 -54 0
-14 -94 0
-14 -134 0
-54 -94 0
-54 -134 0
-94 -134 0
c
c the 2nd row contains no duplicate numbers
c
-21 -61 0
-21 -101 0
-21 -141 0
-61 -101 0
-61 -141 0
-101 -141 0
-22 -62 0
-22 -102 0
-22 -142 0
-62 -102 0
-62 -142 0
-102 -142 0
-23 -63 0
-23 -103 0
-23 -143 0
-63 -103 0
-63 -143 0
-103 -143 0
-24 -64 0
-24 -104 0
-24 -144 0
-64 -104 0
-64 -144 0
-104 -144 0
c
c the 3rd row contains no duplicate numbers
c
-31 -71 0
-31 -111 0
-31 -151 0
-71 -111 0
-71 -151 0
-111 -151 0
-32 -72 0
-32 -112 0
-32 -152 0
-72 -112 0
-72 -152 0
-112 -152 0
-33 -73 0
-33 -113 0
-33 -153 0
-73 -113 0
-73 -153 0
-113 -153 0
-34 -74 0
-34 -114 0
-34 -154 0
-74 -114 0
-74 -154 0
-114 -154 0
c
c the 4th row contains no duplicate numbers
c
-41 -81 0
-41 -121 0
-41 -161 0
-81 -121 0
-81 -161 0
-121 -161 0
-42 -82 0
-42 -122 0
-42 -162 0
-82 -122 0
-82 -162 0
-122 -162 0
-43 -83 0
-43 -123 0
-43 -163 0
-83 -123 0
-83 -163 0
-123 -163 0
-44 -84 0
-44 -124 0
-44 -164 0
-84 -124 0
-84 -164 0
-124 -164 0
c
c the 1st block contains no duplicate numbers
c
-11 -21 0
-11 -51 0
-11 -61 0
-21 -51 0
-21 -61 0
-51 -61 0
-12 -22 0
-12 -52 0
-12 -62 0
-22 -52 0
-22 -62 0
-52 -62 0
-13 -23 0
-13 -53 0
-13 -63 0
-23 -53 0
-23 -63 0
-53 -63 0
-14 -24 0
-14 -54 0
-14 -64 0
-24 -54 0
-24 -64 0
-54 -64 0
c
c the 2nd block contains no duplicate numbers
c
-31 -41 0
-31 -71 0
-31 -81 0
-41 -71 0
-41 -81 0
-71 -81 0
-32 -42 0
-32 -72 0
-32 -82 0
-42 -72 0
-42 -82 0
-72 -82 0
-33 -43 0
-33 -73 0
-33 -83 0
-43 -73 0
-43 -83 0
-73 -83 0
-34 -44 0
-34 -74 0
-34 -84 0
-44 -74 0
-44 -84 0
-74 -84 0
c
c the 3rd block contains no duplicate numbers
c
-91 -101 0
-91 -131 0
-91 -141 0
-101 -131 0
-101 -141 0
-131 -141 0
-92 -102 0
-92 -132 0
-92 -142 0
-102 -132 0
-102 -142 0
-132 -142 0
-93 -103 0
-93 -133 0
-93 -143 0
-103 -133 0
-103 -143 0
-133 -143 0
-94 -104 0
-94 -134 0
-94 -144 0
-104 -134 0
-104 -144 0
-134 -144 0
c
c the 4th block contains no duplicate numbers
c
-111 -121 0
-111 -151 0
-111 -161 0
-121 -151 0
-121 -161 0
-151 -161 0
-112 -122 0
-112 -152 0
-112 -162 0
-122 -152 0
-122 -162 0
-152 -162 0
-113 -123 0
-113 -153 0
-113 -163 0
-123 -153 0
-123 -163 0
-153 -163 0
-114 -124 0
-114 -154 0
-114 -164 0
-124 -154 0
-124 -164 0
-154 -164 0
c
c input:
c . .|. 4
c . .|1 2
c ---+----
c . .|4 3
c 4 3|2 1
c
44 0
71 0
82 0
114 0
123 0
134 0
143 0
152 0
161 0
c
c output:
c 1 2|3 4
c 3 4|1 2
c 2 1|4 3
c 4 3|2 1
c
c -11 -22 -33 -53 -64 -92 -101 0
c
c output:
c 2 1|3 4
c 3 4|1 2
c 1 2|4 3
c 4 3|2 1
